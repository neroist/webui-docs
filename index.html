<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>WebUI Nim Docs</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>üê≥</text></svg>">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/dark.min.css">
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/pietroppeter/nimib/assets/androidstudio.css'>
    <script src="https://cdn.jsdelivr.net/gh/pietroppeter/nimib@main/assets/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

  <style>
.nb-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.nb-small {
  font-size: 0.8rem;
}
button.nb-small {
  float: right;
  padding: 2px;
  padding-right: 5px;
  padding-left: 5px;
}
section#source {
  display:none
}
pre > code {
  font-size: 1.2em;
}
.nb-output {
  line-height: 1.15;
}
</style>
  
</head>
<body>
<header>
<div class="nb-box">
  <span><a href=".">üè°</a></span>
  <span><code>index.nim</code></span>
  <span></span>
</div>
<hr>
</header><main>
<h1>WebUI Wrapper for Nim</h1>
<h2>Get Started</h2>
<p>To begin you need to install the <code>webui</code> library for Nim. This installs
WebUI's C sources for you.</p>
<pre><code class="nohighlight hljs nim">nimble install webui</code></pre>
<p>To see the wrapper's source code, please visit the GitHub repository here:
<a href="https://github.com/neroist/webui">https://github.com/neroist/webui</a></p>
<p>WebUI's source code is <a href="https://github.com/alifcommunity/webui">here</a>.</p>
<h2>Example</h2>
<p>A very <em>minimal</em> Nim example:</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">import</span> webui

<span class="hljs-keyword">let</span> window = newWindow() <span class="hljs-comment"># Create a new Window</span>
window.show(<span class="hljs-string">&quot;&lt;html&gt;Hello&lt;/html&gt;&quot;</span>) <span class="hljs-comment"># Show the window with html content</span>

wait() <span class="hljs-comment"># Wait until the window gets closed</span></code></pre>
<p>To view more complex examples please visit the
<a href="https://github.com/neroist/webui/tree/main/examples">examples</a>
directory in my GitHub repository.</p>
<h2>Windows</h2>
<h3>New Window</h3>
<p>To create a new window object, you can use <code>newWindow()</code>, which returns a
new window object.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">let</span> window = newWindow()</code></pre>
<h3>Show Window</h3>
<p>To show a window, you can use the <code>show()</code> function. If the window is already
shown, the UI will get refreshed in the same window.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">const</span> html = <span class="hljs-string">&quot;&lt;html&gt;Hello!&lt;/html&gt;&quot;</span>

window.show(html) <span class="hljs-comment"># Shows html in any installed web browser</span></code></pre>
<p>To show a window in a specific web browser:</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">const</span> html = <span class="hljs-string">&quot;&lt;html&gt;Hello!&lt;/html&gt;&quot;</span>

<span class="hljs-comment"># Chrome</span>
window.show(html, <span class="hljs-type">BrowserChrome</span>)

<span class="hljs-comment"># Firefox</span>
window.show(html, <span class="hljs-type">BrowserFirefox</span>)

<span class="hljs-comment"># Microsoft Edge</span>
window.show(html, <span class="hljs-type">BrowserEdge</span>)

<span class="hljs-comment"># Chromium</span>
window.show(html, <span class="hljs-type">BrowserChromium</span>)

<span class="hljs-comment"># Safari</span>
window.show(html, <span class="hljs-type">BrowserSafari</span>)

<span class="hljs-comment"># Any available web browser</span>
window.show(html, <span class="hljs-type">BrowserAny</span>)</code></pre>
<p>If you need to update the whole UI content, you can use <code>refresh()</code>, which
allows you to refresh the window UI with any new HTML content.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">import</span> std/os

<span class="hljs-keyword">let</span> html = <span class="hljs-string">&quot;&lt;html&gt;Hello&lt;/html&gt;&quot;</span>
<span class="hljs-keyword">let</span> newHtml = <span class="hljs-string">&quot;&lt;html&gt;New World!&lt;/html&gt;&quot;</span>

<span class="hljs-comment"># Open a window in Chrome</span>
window.show(html, <span class="hljs-type">BrowserChrome</span>)

<span class="hljs-comment"># Later...</span>
sleep(<span class="hljs-number">5000</span>)

<span class="hljs-comment"># Refresh the same window with the new content</span>
window.refresh(newHtml)</code></pre>
<h3>Window Status</h3>
<p>In some exceptional cases, you want to know if any opened window exists,
for that, please use <code>isAnyWindowRunning()</code>, which returns <code>true</code> or <code>false</code>.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">if</span> isAnyWindowRunning():
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;A window is running...&quot;</span>
<span class="hljs-keyword">else</span>:
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;No window is running.&quot;</span></code></pre>
<p>To know if a specific window is running, you can use <code>shown()</code>.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">if</span> window.shown():
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;A window is running...&quot;</span>
<span class="hljs-keyword">else</span>:
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;No window is running.&quot;</span></code></pre>
<h2>Binding</h2>
<h3>Bind</h3>
<p>Use <code>bind()</code> to receive click events when the user clicks on any HTML
element with a specific ID, for example <code>&lt;button id=&quot;MyID&quot;&gt;Hello&lt;/button&gt;</code>.</p>
<pre><code class="nohighlight hljs nim">window.<span class="hljs-keyword">bind</span>(<span class="hljs-string">&quot;MyID&quot;</span>) <span class="hljs-keyword">do</span> (e: <span class="hljs-type">Event</span>):
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Binding element &quot;</span>, e.elementName, <span class="hljs-string">&quot;!&quot;</span></code></pre>
<pre class="nb-output">Binding element MyID!</pre>
<p>You can also have a return value on your function, it must be either of
<code>string</code>, <code>int</code>, or <code>bool</code>. The return value will be automatically passed
back to the Javascript code for you.</p>
<pre><code class="nohighlight hljs nim">window.<span class="hljs-keyword">bind</span>(<span class="hljs-string">&quot;MyID&quot;</span>) <span class="hljs-keyword">do</span> (e: <span class="hljs-type">Event</span>) -&gt; <span class="hljs-built_in">bool</span>:
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + <span class="hljs-number">2</span> == <span class="hljs-number">3</span>  <span class="hljs-comment"># true</span></code></pre>
<p>This also applies to <code>bindAll()</code>.</p>
<h3>Bind All</h3>
<p>You can also automatically bind all HTML elements with one function call.</p>
<pre><code class="nohighlight hljs nim">window.bindAll() <span class="hljs-keyword">do</span> (e: <span class="hljs-type">Event</span>):
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Binding all HTML elements!&quot;</span></code></pre>
<h2>Application</h2>
<h3>Wait</h3>
<p>It is essential to call <code>wait()</code> at the end of your main function, after
you create/show all your windows. This will make your application run
until the user closes all visible windows or when <code>exit()</code> is called.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># Create windows...</span>
<span class="hljs-comment"># Bind HTML elements...</span>
<span class="hljs-comment"># Show the windows...</span>

<span class="hljs-comment"># Wait until all windows get closed</span>
<span class="hljs-comment"># or when calling exit()</span>

wait()</code></pre>
<h3>Exit</h3>
<p>At any moment, you can call <code>exit()</code>, which tries to close all related
opened windows and make <code>wait()</code> break.</p>
<pre><code class="nohighlight hljs nim">exit()</code></pre>
<h3>Close</h3>
<p>You can call <code>close()</code> to close a specific window, if there is no running
window left <code>wait()</code> will break.</p>
<pre><code class="nohighlight hljs nim">window.close()</code></pre>
<h3>App Status</h3>
<p>In some exceptional cases, like in the WebUI-TypeScript wrapper, you
want to know if the whole application still running or not. For that,
please use <code>isAppRunning()</code>, which returns <code>true</code> or <code>false</code>.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">if</span> isAppRunning():
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;The application is still running&quot;</span>
<span class="hljs-keyword">else</span>:
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;The application is closed.&quot;</span></code></pre>
<h3>Startup Timeout</h3>
<p>WebUI waits a couple of seconds to let the web browser start and connect.
You can control this behavior by using <code>setTimeout()</code>.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># Wait 10 seconds for the web browser to start</span>
setTimeout(<span class="hljs-number">10</span>)
wait()    <span class="hljs-comment"># After 10 seconds, if the web browser</span>
          <span class="hljs-comment"># did not start yet, this function will return</span></code></pre>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># Wait forever.</span>
setTimeout(<span class="hljs-number">0</span>)
wait() <span class="hljs-comment"># this function will never end</span></code></pre>
<h3>Multi Access</h3>
<figure>
<img src="https://webui.me/docs/data/webui_access_denied.png" alt="WebUI &quot;Access Denied&quot; Image">
<figcaption>WebUI &quot;Access Denied&quot; Image</figcaption>
</figure>
<p>After the window is loaded, for safety, the used URL is not valid anymore,
if someone else tries to access the URL, WebUI will show an error. To allow
multi-user access to the same URL, you can use <code>multiAccess=</code>.</p>
<pre><code class="nohighlight hljs nim">window.multiAccess = <span class="hljs-literal">true</span></code></pre>
<h2>Event</h2>
<h3>Event</h3>
<p>When you use <code>window.bind()</code>, your application will receive an event every
time the user clicks on the specified HTML element. The event comes with
the <code>elementName</code>, which is the HTML ID of the clicked element, for example,
<code>MyButton</code>, <code>MyInput</code>, etc. The event also comes with the WebUI unique
element ID &amp; the unique window ID. Those two IDs are not generally needed.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) =
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Hi!, You clicked on &quot;</span>, e.elementName, <span class="hljs-string">&quot; element&quot;</span></code></pre>
<p>The <code>e</code> corresponds to <code>Event</code>, and it has these attributes:</p>
<pre><code class="nohighlight hljs nim">e.windowId     <span class="hljs-comment"># WebUI unique window ID</span>
e.elementId    <span class="hljs-comment"># WebUI unique element ID</span>
e.elementName  <span class="hljs-comment"># The HTML ID of the clicked element</span>
e.window       <span class="hljs-comment"># The current window object</span></code></pre>
<p>You can access other attributes like <code>data</code> and <code>response</code>, but those are
used by WebUI, and are only meant for internal use by the library.</p>
<h2>Run JavaScript</h2>
<h3>Script</h3>
<p>You can run JavaScript on any window to read values, update the view, or
anything else. In addition, you can check for execution errors, as well as
receive data.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) = 
  <span class="hljs-comment"># window.script requires a `var` type</span>
  <span class="hljs-keyword">var</span> js = newScript(<span class="hljs-string">&quot;alert('Hello');&quot;</span>)

  <span class="hljs-keyword">let</span> jsResult = e.window.script(js)</code></pre>
<p>or</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) = 
  <span class="hljs-keyword">let</span> jsResult = e.window.evalJs(<span class="hljs-string">&quot;alert('Hello');&quot;</span>)</code></pre>
<p>An example of how to run a JavaScript and get back the output as string,
and check for errors, if any.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) =
  <span class="hljs-keyword">var</span> js = newScript(<span class="hljs-string">&quot;var foo = 4; var bar = 2; return foo*bar;&quot;</span>) <span class="hljs-comment"># Return '8'</span>

  <span class="hljs-keyword">let</span> res = e.window.script(js)

  <span class="hljs-comment"># Check for any error</span>
  <span class="hljs-keyword">if</span> res.error == <span class="hljs-literal">true</span>:
      <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;JavaScript Error: &quot;</span>, res.data
  <span class="hljs-keyword">else</span>:
      <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Output: &quot;</span>, res.data <span class="hljs-comment"># '8'</span></code></pre>
<h2>Server</h2>
<h3>Server</h3>
<p>You can use WebUI to serve a folder, which makes WebUI act like a web
server. To do that, please use <code>newServer()</code>, which returns the complete
URL of the server.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># Serve a folder</span>
<span class="hljs-keyword">let</span> url = window.newServer(<span class="hljs-string">&quot;/path/to/folder&quot;</span>)</code></pre>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># Automatically serve the current directory</span>
<span class="hljs-keyword">let</span> url = window.newServer(<span class="hljs-string">&quot;&quot;</span>)</code></pre>
<p>When you serve a folder, you probably want to run JavaScript &amp; TypeScript
files and show the output in the UI. To do that, you can use
<code>scriptRuntime=</code>, which makes WebUI act like Nodejs.</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># Choose your preferable runtime for .js &amp; .ts files</span>
<span class="hljs-comment"># Deno: RuntimeDeno</span>
<span class="hljs-comment"># Node.js: RuntimeNodeJs</span>

<span class="hljs-comment"># Deno</span>
window.scriptRuntime = <span class="hljs-type">RuntimeDeno</span>

<span class="hljs-comment"># Nodejs</span>
window.scriptRuntime = <span class="hljs-type">RuntimeNodeJs</span>

<span class="hljs-comment"># Disable</span>
window.scriptRuntime = <span class="hljs-type">RuntimeNone</span></code></pre>
<p>If you already have a URL, you can use WebUI to open a window using the
URL. For that, please use <code>open()</code>.</p>
<pre><code class="nohighlight hljs nim">setTimeout(<span class="hljs-number">0</span>) <span class="hljs-comment"># (Optional) Let the server run forever</span>
window.open(url, <span class="hljs-type">BrowserChrome</span>) <span class="hljs-comment"># `url` can also be a Uri from std/uri</span></code></pre>
<p>In addition, it can make WebUI track clicks and send you events by
embedding the WebUI JavaScript bridge file <code>webui.js</code>. Of course, this
will work only if the server is WebUI.</p>
<pre><code class="language-html">&lt;script src=&quot;/webui.js&quot;&gt;&lt;/script&gt;
</code></pre>
</main>
<footer>
<div class="nb-box">
  <span><span class="nb-small">made with <a href="https://pietroppeter.github.io/nimib/">nimib üê≥</a></span></span>
  <span></span>
  <span><button class="nb-small" id="show" onclick="toggleSourceDisplay()">Show Source</button></span>
</div>
</footer>
<section id="source">
<pre><code class="nohighlight nim hljs"><span class="hljs-keyword">import</span> nimib

nbInit

nb.title = <span class="hljs-string">&quot;WebUI Nim Docs&quot;</span>
nb.darkMode()

nbText: <span class="hljs-string">&quot;&quot;&quot;
# WebUI Wrapper for Nim

## Get Started

To begin you need to install the `webui` library for Nim. This installs
WebUI's C sources for you.
&quot;&quot;&quot;</span>

nbCodeSkip: 
  nimble install webui

nbText: <span class="hljs-string">&quot;&quot;&quot;
To see the wrapper's source code, please visit the GitHub repository here: 
&lt;https://github.com/neroist/webui&gt;

WebUI's source code is [here](https://github.com/alifcommunity/webui).
&quot;&quot;&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
## Example

A very *minimal* Nim example:
&quot;&quot;&quot;</span>

nbCodeSkip: 
  <span class="hljs-keyword">import</span> webui

  <span class="hljs-keyword">let</span> window = newWindow() <span class="hljs-comment"># Create a new Window</span>
  window.show(<span class="hljs-string">&quot;&lt;html&gt;Hello&lt;/html&gt;&quot;</span>) <span class="hljs-comment"># Show the window with html content</span>

  wait() <span class="hljs-comment"># Wait until the window gets closed</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
To view more complex examples please visit the 
[examples](https://github.com/neroist/webui/tree/main/examples) 
directory in my GitHub repository.
&quot;&quot;&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
## Windows

### New Window

To create a new window object, you can use `newWindow()`, which returns a 
new window object.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">let</span> window = newWindow()
 
nbText: <span class="hljs-string">&quot;&quot;&quot;
### Show Window

To show a window, you can use the `show()` function. If the window is already 
shown, the UI will get refreshed in the same window.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">const</span> html = <span class="hljs-string">&quot;&lt;html&gt;Hello!&lt;/html&gt;&quot;</span>

  window.show(html) <span class="hljs-comment"># Shows html in any installed web browser</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
To show a window in a specific web browser:
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">const</span> html = <span class="hljs-string">&quot;&lt;html&gt;Hello!&lt;/html&gt;&quot;</span>

  <span class="hljs-comment"># Chrome</span>
  window.show(html, <span class="hljs-type">BrowserChrome</span>)

  <span class="hljs-comment"># Firefox</span>
  window.show(html, <span class="hljs-type">BrowserFirefox</span>)

  <span class="hljs-comment"># Microsoft Edge</span>
  window.show(html, <span class="hljs-type">BrowserEdge</span>)

  <span class="hljs-comment"># Chromium</span>
  window.show(html, <span class="hljs-type">BrowserChromium</span>)

  <span class="hljs-comment"># Safari</span>
  window.show(html, <span class="hljs-type">BrowserSafari</span>)

  <span class="hljs-comment"># Any available web browser</span>
  window.show(html, <span class="hljs-type">BrowserAny</span>)

nbText: <span class="hljs-string">&quot;&quot;&quot;
If you need to update the whole UI content, you can use `refresh()`, which
allows you to refresh the window UI with any new HTML content.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">import</span> std/os

  <span class="hljs-keyword">let</span> html = <span class="hljs-string">&quot;&lt;html&gt;Hello&lt;/html&gt;&quot;</span>
  <span class="hljs-keyword">let</span> newHtml = <span class="hljs-string">&quot;&lt;html&gt;New World!&lt;/html&gt;&quot;</span>

  <span class="hljs-comment"># Open a window in Chrome</span>
  window.show(html, <span class="hljs-type">BrowserChrome</span>)

  <span class="hljs-comment"># Later...</span>
  sleep(<span class="hljs-number">5000</span>)

  <span class="hljs-comment"># Refresh the same window with the new content</span>
  window.refresh(newHtml)

nbText: <span class="hljs-string">&quot;&quot;&quot;
### Window Status

In some exceptional cases, you want to know if any opened window exists, 
for that, please use `isAnyWindowRunning()`, which returns `true` or `false`.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">if</span> isAnyWindowRunning():
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;A window is running...&quot;</span>
  <span class="hljs-keyword">else</span>:
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;No window is running.&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
To know if a specific window is running, you can use `shown()`.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">if</span> window.shown():
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;A window is running...&quot;</span>
  <span class="hljs-keyword">else</span>:
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;No window is running.&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
## Binding

### Bind

Use `bind()` to receive click events when the user clicks on any HTML 
element with a specific ID, for example `&lt;button id=&quot;MyID&quot;&gt;Hello&lt;/button&gt;`.
&quot;&quot;&quot;</span>

nbCodeSkip:
  window.<span class="hljs-keyword">bind</span>(<span class="hljs-string">&quot;MyID&quot;</span>) <span class="hljs-keyword">do</span> (e: <span class="hljs-type">Event</span>):
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Binding element &quot;</span>, e.elementName, <span class="hljs-string">&quot;!&quot;</span>

nbCapture:
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Binding element MyID!&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
You can also have a return value on your function, it must be either of
`string`, `int`, or `bool`. The return value will be automatically passed
back to the Javascript code for you.
&quot;&quot;&quot;</span>

nbCodeSkip:
  window.<span class="hljs-keyword">bind</span>(<span class="hljs-string">&quot;MyID&quot;</span>) <span class="hljs-keyword">do</span> (e: <span class="hljs-type">Event</span>) -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + <span class="hljs-number">2</span> == <span class="hljs-number">3</span>  <span class="hljs-comment"># true</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
This also applies to `bindAll()`.
&quot;&quot;&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
### Bind All

You can also automatically bind all HTML elements with one function call.
&quot;&quot;&quot;</span>

nbCodeSkip:
  window.bindAll() <span class="hljs-keyword">do</span> (e: <span class="hljs-type">Event</span>):
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Binding all HTML elements!&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
## Application

### Wait

It is essential to call `wait()` at the end of your main function, after 
you create/show all your windows. This will make your application run 
until the user closes all visible windows or when `exit()` is called.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-comment"># Create windows...</span>
  <span class="hljs-comment"># Bind HTML elements...</span>
  <span class="hljs-comment"># Show the windows...</span>

  <span class="hljs-comment"># Wait until all windows get closed</span>
  <span class="hljs-comment"># or when calling exit()</span>

  wait()

nbText: <span class="hljs-string">&quot;&quot;&quot;
### Exit

At any moment, you can call `exit()`, which tries to close all related
opened windows and make `wait()` break.
&quot;&quot;&quot;</span>

nbCodeSkip:
  exit()

nbText: <span class="hljs-string">&quot;&quot;&quot;
### Close

You can call `close()` to close a specific window, if there is no running 
window left `wait()` will break.
&quot;&quot;&quot;</span>

nbCodeSkip:
  window.close()

nbText: <span class="hljs-string">&quot;&quot;&quot;
### App Status

In some exceptional cases, like in the WebUI-TypeScript wrapper, you 
want to know if the whole application still running or not. For that,
please use `isAppRunning()`, which returns `true` or `false`.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">if</span> isAppRunning():
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;The application is still running&quot;</span>
  <span class="hljs-keyword">else</span>:
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;The application is closed.&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
### Startup Timeout

WebUI waits a couple of seconds to let the web browser start and connect.
You can control this behavior by using `setTimeout()`.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-comment"># Wait 10 seconds for the web browser to start</span>
  setTimeout(<span class="hljs-number">10</span>)
  wait()    <span class="hljs-comment"># After 10 seconds, if the web browser</span>
            <span class="hljs-comment"># did not start yet, this function will return</span>

nbCodeSkip:
  <span class="hljs-comment"># Wait forever.</span>
  setTimeout(<span class="hljs-number">0</span>)
  wait() <span class="hljs-comment"># this function will never end</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;  
### Multi Access
&quot;&quot;&quot;</span>

nbImage(
  <span class="hljs-string">&quot;https://webui.me/docs/data/webui_access_denied.png&quot;</span>, 
  <span class="hljs-string">&quot;WebUI </span><span class="hljs-meta">\&quot;</span><span class="hljs-string">Access Denied</span><span class="hljs-meta">\&quot;</span><span class="hljs-string"> Image&quot;</span>
)

nbText: <span class="hljs-string">&quot;&quot;&quot;
After the window is loaded, for safety, the used URL is not valid anymore, 
if someone else tries to access the URL, WebUI will show an error. To allow 
multi-user access to the same URL, you can use `multiAccess=`.
&quot;&quot;&quot;</span>

nbCodeSkip:
  window.multiAccess = <span class="hljs-literal">true</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
## Event

### Event

When you use `window.bind()`, your application will receive an event every 
time the user clicks on the specified HTML element. The event comes with 
the `elementName`, which is the HTML ID of the clicked element, for example, 
`MyButton`, `MyInput`, etc. The event also comes with the WebUI unique 
element ID &amp; the unique window ID. Those two IDs are not generally needed.
&quot;&quot;&quot;</span>
nbCodeSkip:
  <span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) =
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Hi!, You clicked on &quot;</span>, e.elementName, <span class="hljs-string">&quot; element&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
The `e` corresponds to `Event`, and it has these attributes:
&quot;&quot;&quot;</span>

nbCodeSkip:
  e.windowId     <span class="hljs-comment"># WebUI unique window ID</span>
  e.elementId    <span class="hljs-comment"># WebUI unique element ID</span>
  e.elementName  <span class="hljs-comment"># The HTML ID of the clicked element</span>
  e.window       <span class="hljs-comment"># The current window object</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
You can access other attributes like `data` and `response`, but those are
used by WebUI, and are only meant for internal use by the library.
&quot;&quot;&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
## Run JavaScript

### Script

You can run JavaScript on any window to read values, update the view, or 
anything else. In addition, you can check for execution errors, as well as 
receive data.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) = 
    <span class="hljs-comment"># window.script requires a `var` type</span>
    <span class="hljs-keyword">var</span> js = newScript(<span class="hljs-string">&quot;alert('Hello');&quot;</span>)

    <span class="hljs-keyword">let</span> jsResult = e.window.script(js)

nbText: <span class="hljs-string">&quot;&quot;&quot;
or
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) = 
    <span class="hljs-keyword">let</span> jsResult = e.window.evalJs(<span class="hljs-string">&quot;alert('Hello');&quot;</span>)
  
nbText: <span class="hljs-string">&quot;&quot;&quot;
An example of how to run a JavaScript and get back the output as string, 
and check for errors, if any.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-keyword">proc</span> myProc(e: <span class="hljs-type">Event</span>) =
    <span class="hljs-keyword">var</span> js = newScript(<span class="hljs-string">&quot;var foo = 4; var bar = 2; return foo*bar;&quot;</span>) <span class="hljs-comment"># Return '8'</span>

    <span class="hljs-keyword">let</span> res = e.window.script(js)

    <span class="hljs-comment"># Check for any error</span>
    <span class="hljs-keyword">if</span> res.error == <span class="hljs-literal">true</span>:
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;JavaScript Error: &quot;</span>, res.data
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Output: &quot;</span>, res.data <span class="hljs-comment"># '8'</span>
  
nbText: <span class="hljs-string">&quot;&quot;&quot;
## Server

### Server

You can use WebUI to serve a folder, which makes WebUI act like a web 
server. To do that, please use `newServer()`, which returns the complete 
URL of the server.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-comment"># Serve a folder</span>
  <span class="hljs-keyword">let</span> url = window.newServer(<span class="hljs-string">&quot;/path/to/folder&quot;</span>)

nbCodeSkip:
  <span class="hljs-comment"># Automatically serve the current directory</span>
  <span class="hljs-keyword">let</span> url = window.newServer(<span class="hljs-string">&quot;&quot;</span>)

nbText: <span class="hljs-string">&quot;&quot;&quot;  
When you serve a folder, you probably want to run JavaScript &amp; TypeScript 
files and show the output in the UI. To do that, you can use 
`scriptRuntime=`, which makes WebUI act like Nodejs.
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-comment"># Choose your preferable runtime for .js &amp; .ts files</span>
  <span class="hljs-comment"># Deno: RuntimeDeno</span>
  <span class="hljs-comment"># Node.js: RuntimeNodeJs</span>

  <span class="hljs-comment"># Deno</span>
  window.scriptRuntime = <span class="hljs-type">RuntimeDeno</span>

  <span class="hljs-comment"># Nodejs</span>
  window.scriptRuntime = <span class="hljs-type">RuntimeNodeJs</span>

  <span class="hljs-comment"># Disable</span>
  window.scriptRuntime = <span class="hljs-type">RuntimeNone</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;  
If you already have a URL, you can use WebUI to open a window using the
URL. For that, please use `open()`.
&quot;&quot;&quot;</span>

nbCodeSkip:
  setTimeout(<span class="hljs-number">0</span>) <span class="hljs-comment"># (Optional) Let the server run forever</span>
  window.open(url, <span class="hljs-type">BrowserChrome</span>) <span class="hljs-comment"># `url` can also be a Uri from std/uri</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;  
In addition, it can make WebUI track clicks and send you events by 
embedding the WebUI JavaScript bridge file `webui.js`. Of course, this 
will work only if the server is WebUI.

```html
&lt;script src=&quot;/webui.js&quot;&gt;&lt;/script&gt;
```
&quot;&quot;&quot;</span>

nbSave
</code></pre>
</section><script>
function toggleSourceDisplay() {
  var btn = document.getElementById("show")
  var source = document.getElementById("source");
  if (btn.innerHTML=="Show Source") {
    btn.innerHTML = "Hide Source";
    source.style.display = "block";
  } else {
    btn.innerHTML = "Show Source";
    source.style.display = "none";
  }
}
</script></body>
</html>
